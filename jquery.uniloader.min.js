/*!
 * Uniloader
 * Shows mouse or overlay loaders (with a modal window optionally)
 *
 * @requires jQuery v1.4.3 or newer
 *
 * @author Grigory Zarubin (http://craigy.ru/)
 * @version 1.0.3
 * @date 31.08.2016
 *
 * Dual licensed under the MIT or GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function(a){var c={a:{x:0,y:0},g:!1,m:function(){a(window).o("click.uniloader",function(a){c.a.x=a.pageX-15;c.a.y=a.pageY-15});c.l()},l:function(){var a=new Image,e=document.createElement("canvas");a.onload=function(){if(e.getContext){var b=e.getContext("2d");b.drawImage(a,0,0);c.g=0===b.getImageData(0,0,1,1).data[3]}};a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="},
w:function(d){var e=d.outerWidth();d=d.outerHeight();var b=a(window).scrollLeft()+Math.ceil((a(window)[0].innerWidth||a(window).width())/2),c=a(window).scrollTop()+Math.ceil((a(window)[0].innerHeight||a(window).height())/2);return{left:0>b-e/2?0:b-e/2+"px",top:0>c-d/2?0:c-d/2+"px"}},h:{B:".modal-close",b:200,v:a.j,u:a.j,s:a.j}};a.C=function(d,e){var b=a("#uniloader-mouse"),f=a.extend(!0,{},c.h,e);c.a.x||(c.a.x=Math.ceil((a(window)[0].innerWidth||a(window).width())/2));c.a.y||(c.a.y=Math.ceil((a(window)[0].innerHeight||
a(window).height())/2));d?(b.length||(b=a('<div id="uniloader-mouse" />').data("uniloader-mousemove",function(a){b.c({left:a.pageX-15,top:a.pageY-15})}),a(document.body).append(b),c.g&&b.c("backgroundImage",b.c("backgroundImage").replace(/ajax\.gif/gi,"ajax.png")),b.data("depth",0)),b.data("depth")||(f.v(),b.data("uniloader-onHide",f.s).c({left:c.a.x-15,top:c.a.y-15}),b.show(f.b,function(){f.u()}),a(document.body).o("mousemove.uniloader scroll.uniloader",b.data("uniloader-mousemove"))),b.data("depth",
b.data("depth")+1)):(b.data("depth",b.data("depth")-1),b.data("depth")||(b.i(f.b,function(){b.data("uniloader-onHide")()}),a(document.body).f("mousemove.uniloader scroll.uniloader",b.data("uniloader-mousemove"))))};a.D=function(d){var e=a("#uniloader-overlay"),b=a("#uniloader-overlay-content"),f=!1;d&&d.node&&(b=a(d.node),f=!0,delete d.node);var g=a.extend(!0,{},c.h,d);d="resize";"throttledresize"in jQuery.event.G&&(d="throttledresize");e.data("depth")&&(e.data("depth",e.data("depth")-1),e.data("depth")||
(f&&(e.f(".uniloader"),a(document.body).f("keypress.uniloader")),a(window).f(d+".uniloader gestureend.uniloader"),e.A(g.b,function(){b.i(g.b,function(){e.i();a(document.body).F("uniloader-overlay-body");e.data("uniloader-onHide")()})})))};c.m()})(jQuery);